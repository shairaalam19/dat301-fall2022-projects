---
title: "DAT301 Midterm Project"
author: "Amber Kahklen, Shaira Alam, Alyssa Stefencavage"
output: ioslides_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
df = read.csv("adultdata.csv") #you will have to change this to your directory when working on it
colnames(df) <-c("age", "workclass", "fnlwgt", "education", "education-num", "marital-Status", "occupation", "relationship", "race", "sex", "capital-gain", "capital-loss", "hours-per-week", "native-country", "wage_below_orAbove_50k")
library(ggplot2movies)
library(dplyr)
library(ggplot2)
adultData <- data.frame(df)
```
## Income Prediction | Based on Census Data

UCI's Machine Learning Repository, Adult Data Set: https://archive.ics.uci.edu/ml/datasets/Adult

- Predicts if income is above or below $50,000 based on census data.
- Extraction was done by Barry Becker taken from 1994 Census database

```{r,out.width='350px',out.height='225px',echo=FALSE,fig.align='center'}

knitr::include_graphics('./male-female-money.png')
```

## Categories of Adult Income Data

<font size = "3">**age**: continuous.

**workclass**: Private, Self-emp-not-inc, Self-emp-inc, Federal-gov, Local-gov, State-gov,    Without-pay, Never-worked.
            
**fnlwgt**: continuous.

**education**: Bachelors, Some-college, 11th, HS-grad, Prof-school, Assoc-acdm, Assoc-voc, 9th, 
            7th-8th, 12th, Masters, 1st-4th, 10th, Doctorate, 5th-6th, Preschool.
            
**education-num**: continuous.

**marital-status**: Married-civ-spouse, Divorced, Never-married, Separated, Widowed, 
                Married-spouse-absent, Married-AF-spouse.
                
**occupation**: Tech-support, Craft-repair, Other-service, Sales, Exec-managerial, Prof-specialty, 
            Handlers-cleaners, Machine-op-inspct, Adm-clerical, Farming-fishing, Transport-moving,             Priv-house-serv, Protective-serv, Armed-Forces.
            
**relationship**: Wife, Own-child, Husband, Not-in-family, Other-relative, Unmarried.

**race**: White, Asian-Pac-Islander, Amer-Indian-Eskimo, Other, Black.

**sex**: Female, Male.</font>

## Categories of Adult Income Data Continued

<font size = "3">

**capital-gain**: continuous

**capital-loss**: continuous

**hours-per-week**: continuous.

**native-country**: United-States, Cambodia, England, Puerto-Rico, Canada, Germany, 
                  Outlying-US(Guam-USVI-etc), India, Japan, Greece, South, China, Cuba, Iran,                       Honduras, Philippines, Italy, Poland, Jamaica, Vietnam, Mexico, Portugal,                         Ireland, France, Dominican-Republic, Laos, Ecuador, Taiwan, Haiti, Columbia,                      Hungary, Guatemala, Nicaragua, Scotland, Thailand, Yugoslavia, El-Salvador,                       Trinadad&Tobago, Peru, Hong, Holand-Netherlands.</font>

## Attribute Details

**fnlwgt**: 

The number of people one row represents

**marital-status**: 

Married-civ-spouse: Married to a civilian

Married-AF-spouse: Married to someone in the Armed Forces


## Motivation

Help us in our own careers.

See historically what attributes people have to increase wage.
```{r,out.width='300px',out.height='170px',echo=FALSE,fig.align='left'}

knitr::include_graphics('./grad.png')
```
```{r,out.width='300px',out.height='200px',echo=FALSE,fig.align='right'}

knitr::include_graphics('./family.png')
```

## Challenges

Different characters in the name:
Married-civ-spouse has a space in the front

Some values are missing in rows

## 1. Plot the count for each education level.  

```{r}
education  <- adultData %>% count(education)

Levels <- c("Bachelors", "Some-college", "11th", "HS-grad", "Prof-school", "Assoc-acdm", "Assoc-voc", "9th", 
            "7th-8th", "12th", "Masters", "1st-4th", "10th", "Doctorate", "5th-6th", "Preschool")
Count <- c(education$n)

education <- data.frame(education)
ggplot(education, aes(x=Levels, y=Count, fill=Levels)) + 
geom_bar(stat="identity")

```

## 2. Does the workclass affect if the individual make above or below 50k a year

```{r}
class <- adultData %>% count(workclass)

Classes <- c("Private", "Self-emp-not-inc", "Self-emp-inc", "Federal-gov", "Local-gov", "State-gov","Without-pay", "Never-worked")
Count <- c(class$n)

# DOES NOT WORK 
# class <- data.frame(class)
# ggplot(class, aes(x=Classes, y=Count, fill=Classes)) + 
# geom_bar(stat="identity")
```

## 3. Hours per week vs above or below 50k a year

```{r}
Hours <- adultData$hours.per.week
boxplot(Hours~adultData$wage_below_orAbove_50k,horizontal=TRUE, col=c("green", "blue"), main="Hours Per Week based on Wage", xlab = "Hours Worked per Week", ylab = "Wage")
legend("topright", legend = c("Wage is Below 50k", "Wage is Above 50K"), fill = c("green", "blue"))

```

```{r}
# REPEAT 
#boxplot(df$`hours-per-week`~df$`wage_below_orAbove_50k`, main = "Hours Per Week vs. Wage", xlab = "Wage", ylab = "Hours Worked per Week", col = #c("cornflowerblue", "darkolivegreen3"))
#legend("topright", legend = c("Wage is Below 50k", "Wage is Above 50K"), fill = c("cornflowerblue", "darkolivegreen3"))
```

## 4. Does making above or below 50k have an impact on marital status?

```{r}

```

## 4. Does gender have an effect on wages?

```{r}

```

## 6. Does the hours per week affect relationship and marital status?

```{r}
mcs = df$`hours-per-week`[df$`marital-Status` == " Married-civ-spouse"]
div = df$`hours-per-week`[df$`marital-Status` == " Divorced"]
nm = df$`hours-per-week`[df$`marital-Status` == " Never-married"]
sep = df$`hours-per-week`[df$`marital-Status` == " Separated"]
wid = df$`hours-per-week`[df$`marital-Status` == " Widowed"]
msa = df$`hours-per-week`[df$`marital-Status` == " Married-spouse-absent"]
mas = df$`hours-per-week`[df$`marital-Status` == " Married-AF-spouse"]

hoursPerRelStatus = c(mean(mcs), mean(div), mean(nm), mean(sep), mean(wid), mean(msa), mean(mas))
hoursPerRelStatusR = round(hoursPerRelStatus, digits = 2)

par(mar = c(8, 4, 5, 1))
xx <- barplot(hoursPerRelStatus, main = "Average Hours Worked per Week by Marital Status", xlab = "", ylab = "Hours Worked in a Week", ylim = c(0, 50), names.arg = c("Married,\n Civilian Spouse", "Divorced", "Never Married", "Separated", "Widowed", "Married,\n Spouse Absent", "Married, Armed\n Forces Spouse"), las = 2, col = c("green", "red", "blue", "Pink", "Purple", "Yellow", "Orange"))
mtext("Marital Status", side=1, line = 6)
text(x = xx, y = hoursPerRelStatusR+3, label=as.character(hoursPerRelStatusR))
```

## 7. Does occupation and education affect wage?

```{r}

```

## 8. Occupation | Hours per Week by Occupation

```{r}
occ = recode_factor(df$occupation, 'Tech-support' = "0", 'Craft-repair' = "1", 'Other-service' = "2", 'Sales' = "3", 'Exec-managerial' = "4", 'Prof-specialty' = "5", 'Handlers-cleaners' = "6", 'Machine-op-inspct' = "7", 'Adm-clerical' = "8", 'Farming-fishing' = "9", 'Transport-moving' = "10", 'Priv-house-serv' = "11", 'Protective-serv' = "12", 'Armed-Forces' = "13" )

boxplot(df$`hours-per-week`~occ, mian = "Hours Worked per Week by Workclass", xlab = " ", ylab = "Hours Worked per Week", las = 3)

```

## Embed html webpage

Taken from Johns Hopkins University website: [https://coronavirus.jhu.edu/map.html](https://coronavirus.jhu.edu/map.html)

<iframe src="https://coronavirus.jhu.edu/map.html"></iframe>
